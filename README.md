# Проект Yatube - API Документация

## Описание

Проект Yatube предоставляет API для работы с публикациями, комментариями, сообществами и подписками пользователей. В этом README содержится описание доступных конечных точек и схем данных.

## Установка и настройка

### Требования

- Python 3.8+
- Django 3.2+
- DRF (Django Rest Framework)
- Simple JWT (для аутентификации)

### Установка

1. Клонируйте репозиторий:

   ```sh
   git clone https://github.com/yourusername/api_final_yatube.git
   cd yatube-api
   ```

2. Установите виртуальное окружение и активируйте его:

   ```sh
   python3 -m venv .kekenv
   source env/bin/activate
   ```

3. Установите зависимости:

   ```sh
   pip install -r requirements.txt
   ```

4. Выполните миграции и запустите сервер:

   ```sh
   python manage.py migrate
   python manage.py runserver
   ```

## API Документация

### Общие сведения

- Базовый URL для всех запросов: `/api/v1/`
- Все конечные точки возвращают данные в формате JSON.
- Для доступа к защищенным ресурсам необходимо использовать JWT-токены.

### Конечные точки

#### Публикации

- **Получение списка публикаций**

  ```http
  GET /api/v1/posts/
  ```

- **Создание публикации**

  ```http
  POST /api/v1/posts/
  ```

- **Получение публикации по ID**

  ```http
  GET /api/v1/posts/{id}/
  ```

- **Обновление публикации**

  ```http
  PUT /api/v1/posts/{id}/
  ```

- **Частичное обновление публикации**

  ```http
  PATCH /api/v1/posts/{id}/
  ```

- **Удаление публикации**

  ```http
  DELETE /api/v1/posts/{id}/
  ```

#### Комментарии

- **Получение списка комментариев к публикации**

  ```http
  GET /api/v1/posts/{post_id}/comments/
  ```

- **Создание комментария к публикации**

  ```http
  POST /api/v1/posts/{post_id}/comments/
  ```

- **Получение комментария по ID**

  ```http
  GET /api/v1/posts/{post_id}/comments/{id}/
  ```

- **Обновление комментария**

  ```http
  PUT /api/v1/posts/{post_id}/comments/{id}/
  ```

- **Частичное обновление комментария**

  ```http
  PATCH /api/v1/posts/{post_id}/comments/{id}/
  ```

- **Удаление комментария**

  ```http
  DELETE /api/v1/posts/{post_id}/comments/{id}/
  ```

#### Группы

- **Получение списка групп**

  ```http
  GET /api/v1/groups/
  ```

- **Получение группы по ID**

  ```http
  GET /api/v1/groups/{id}/
  ```

#### Подписки

- **Получение списка подписок пользователя**

  ```http
  GET /api/v1/follow/
  ```

- **Создание подписки**

  ```http
  POST /api/v1/follow/
  ```

### Аутентификация

Используйте JWT-токены для аутентификации. Получите токен, отправив запрос:

```http
POST /api/v1/jwt/create/
```

Тело запроса:

```json
{
  "username": "string",
  "password": "string"
}
```

Добавьте токен к каждому защищенному запросу в заголовке Authorization:

```
Authorization: Bearer <your_token>
```

### Права доступа

- **Публикации**: создание, редактирование и удаление доступны только авторизованным пользователям.
- **Комментарии**: создание, редактирование и удаление доступны только авторизованным пользователям.
- **Группы**: доступны всем пользователям.
- **Подписки**: создание и просмотр доступны только авторизованным пользователям.

### Пагинация

Все конечные точки, возвращающие списки объектов, поддерживают пагинацию. По умолчанию используется пагинация с размером страницы 10 объектов.

Пример запроса с указанием страницы:

```http
GET /api/v1/posts/?page=2
```

### Поиск

Для поиска по подпискам используйте параметр `search`.

Пример запроса на поиск:

```http
GET /api/v1/follow/?search=Olexasha
```